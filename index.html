<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="content-language" content="ru">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="осмогласие, тропарь, кондак, ирмос, стихира, церковное, пение, хор, нота, глас, сопрано, альт, тенор, бас, баритон">
    <meta name="description" content="Православные церковные песнопения аудио по партиям">
    <title>Осмоглас - изучение церковного пения</title>
    <link rel="icon" href="./favicon.ico">
    <link rel="apple-touch-icon" href="./favicon/icon180.png">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/variables.css">
    <link rel="stylesheet" href="./css/footer.css">
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/player.css">
</head>
<body>
    <div class="navbar">
        <div class="header">
            <div class="menuLogo" onclick="openMenu()">&equiv;</div>
            <h2>Осмоглас<sup style="font-size: 13px; font-family: 'Times New Roman', Times, serif; color: var(--third-color)">beta</sup></h2>
        </div>
        <div class="menu">
            <div class="btnMenu glases" id='glases' onclick="choosePage('glases')">Гласы</div>
            <div class="btnMenu liturg" id='liturg' onclick="choosePage('liturg')">Литургия</div>
            <div class="btnMenu favorite" id='favorite' onclick="choosePage('favorite')">Избранное</div>
            <div class="separator"></div>
            <div class="btnMenu instruction" id='instruction' onclick="choosePage('instruction')">Инструкция</div>
            <div class="btnMenu donut" id='donut' onclick="choosePage('donut')">Поддержать</div>
            <div style="margin: 0 10px 5px 0">
                <input type="checkbox" id="checkbox_navbar" class='checkbox_navbar'/>
                <label for="checkbox_navbar"></label>
            </div>
        </div>
    </div>
    <div class="mobileMenu notActive" id="mobileMenu">
        <div class="btnMenuMobile glases" onclick="choosePage('glases')">Гласы</div>
        <div class="btnMenuMobile liturg" onclick="choosePage('liturg')">Литургия</div>
        <div class="btnMenuMobile favorite" onclick="choosePage('favorite')">Избранное</div>
        <div class="btnMenuMobile instruction" onclick="choosePage('instruction')">Инструкция</div>
        <div class="btnMenuMobile donut" onclick="choosePage('donut')">Поддержать</div>
    </div>

    <br>
    <!------------------------------------------------------------------------------------------------------>
    <div id="password" class="password notActive">
        <h3>Введите пароль:</h3>
        <input type="text" id="inputPassword"/>
        <div class="btn" onclick="openPage()">Открыть</div>
    </div>
    <h4 id="wrongPassword" class="wrongPassword notActive">Неверный пароль</h4>
    <!------------------------------------------------------------------------------------------------------>

    <div id="bodyDiv" class="notActive">
        <div id="template" class="flex" style="line-height: 1.2em"></div>

        <midi-player sound-font id="player_short"></midi-player>

        <h3>Транспонирование (шаг в полутонах):</h3>
        <div class="flex tone-div">
            <div class="btn btn_mini" onclick="chooseTone(-6)" id="tone-6">-6</div>
            <div class="btn btn_mini" onclick="chooseTone(-5)" id="tone-5">-5</div>
            <div class="btn btn_mini" onclick="chooseTone(-4)" id="tone-4">-4</div>
            <div class="btn btn_mini" onclick="chooseTone(-3)" id="tone-3">-3</div>
            <div class="btn btn_mini" onclick="chooseTone(-2)" id="tone-2">-2</div>
            <div class="btn btn_mini" onclick="chooseTone(-1)" id="tone-1">-1</div>
            <div class="btn btn_mini" onclick="chooseTone(0)" id="tone0">0</div>
            <div class="btn btn_mini" onclick="chooseTone(1)" id="tone1">+1</div>
            <div class="btn btn_mini" onclick="chooseTone(2)" id="tone2">+2</div>
            <div class="btn btn_mini" onclick="chooseTone(3)" id="tone3">+3</div>
            <div class="btn btn_mini" onclick="chooseTone(4)" id="tone4">+4</div>
            <div class="btn btn_mini" onclick="chooseTone(5)" id="tone5">+5</div>
            <div class="btn btn_mini" onclick="chooseTone(6)" id="tone6">+6</div>
        </div>

        <br><br>
        <div class="flex">
            <h3>Темп:</h3>
            <form id="tempoForm">
                <input type="range"  name="amountRange" id="tempoRange" min="50" max="250" value="120" step="10" oninput="this.form.amountInput.value = this.value" style="width: 150px"/>
                <div class="resetTempo" onclick="changeTempo()" id="tempoRes">↻</div>
                <input type="number" name="amountInput" id="tempoInput" min="50" max="250" value="120" step="10" oninput="this.form.amountRange.value = this.value" onchange="this.value = Math.max(this.value, 10)" maxlength="3"/>
                <div class="bpm">bpm</div>
            </form>
        </div>

        <h3>Выберите партии:</h3>
        <div class="parts off" id="soprano1Div">
            <input class='checkbox' type="checkbox" id="soprano1" /><label for="soprano1"></label>
            <div class="namePart">Сопрано 1</div>
            <input type="range" class="volume" id="soprano1Vol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('soprano1Vol')" id="soprano1Res">↻</div>
        </div>
        <div class="parts off" id="soprano2Div">
            <input class='checkbox' type="checkbox" id="soprano2" /><label for="soprano2"></label>
            <div class="namePart">Сопрано 2</div>
            <input type="range" class="volume" id="soprano2Vol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('soprano2Vol')" id="soprano2Res">↻</div>
        </div>
        <div class="parts off" id="altDiv">
            <input class='checkbox' type="checkbox" id="alt" /><label for="alt"></label>
            <div class="namePart">Альт</div>
            <input type="range" class="volume" id="altVol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('altVol')" id="altRes">↻</div>
        </div>
        <div class="parts off" id="tenor1Div">
            <input class='checkbox' type="checkbox" id="tenor1" /><label for="tenor1"></label>
            <div class="namePart">Тенор 1</div>
            <input type="range" class="volume" id="tenor1Vol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('tenor1Vol')" id="tenor1Res">↻</div>
        </div>
        <div class="parts off" id="tenor2Div">
            <input class='checkbox' type="checkbox" id="tenor2" /><label for="tenor2"></label>
            <div class="namePart">Тенор 2</div>
            <input type="range" class="volume" id="tenor2Vol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('tenor2Vol')" id="tenor2Res">↻</div>
        </div>
        <div class="parts off" id="baritonDiv">
            <input class='checkbox' type="checkbox" id="bariton" /><label for="bariton"></label>
            <div class="namePart">Баритон</div>
            <input type="range" class="volume" id="baritonVol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('baritonVol')" id="baritonRes">↻</div>
        </div>
        <div class="parts off" id="basDiv">
            <input class='checkbox' type="checkbox" id="bas" /><label for="bas"></label>
            <div class="namePart">Бас</div>
            <input type="range" class="volume" id="basVol" min="1" value="80" max="127" step="1"/>
            <div class="reset" onclick="resetVolume('basVol')" id="basRes">↻</div>
        </div>

        <br><br>
        <div class="btn btn_big" style="margin: 0 auto" onclick="generateSong()">Генерировать</div>
        <br>
        <h3 id="textMelody" style="line-height: 1.2em">404</h3>
        <br>
        <div class="off" id="songDiv">
            <h3 id="trackName">Track</h3>
            <midi-player sound-font id="player" visualizer="#vizualizer-piano, #vizualizer-lines"></midi-player>
            <br>
            <midi-visualizer class='notActive' type="staff" id="vizualizer-piano"></midi-visualizer>
            <midi-visualizer class='notActive' type="piano-roll" id="vizualizer-lines"></midi-visualizer>
        </div>
<!--        <div class="btn btn_big" style="margin: 10px auto" onclick="downloadSong()">Скачать миди</div>-->
    </div>
<!------------------------------------------------------------------------------------------------------>
    <div id="instructionPage" class="second-page notActive">
        <h3>Как пользоваться</h3>
        <p>
            Сначала по нажатию кнопок выбирается песнопение: раздел меню, затем раздел на странице и мелодия. Далее
            расположен плеер: в этот плеер загружено предпрослушивание выбранной мелодии, и по нажатию кнопки "play"
            вы можете послушать краткий вариант мелодии, чтобы убедиться, что выбрали то, что Вам нужно.
        </p>
        <p>
            Далее, если необходимо, выбираете транспонирование, темп и необходимые партии. Обратите внимание, что
            транспонирование в полутонах, то есть, чтобы повысить тональность произведения на тон, надо выбрать кнопку
            "+2", так как в одном тоне 2 полутона. Выключатель слева от названий партий в положении слева исключает
            голос из общей мелодии. Соответственно, если Вам нужно прослушать какую-то одну определенную партию,
            необходимо выключить все остальные. Справа от названия партий можно настроить их громкость в общей мелодии.
            Если партия неактивна, значит, в общей мелодии она не предусмотрена :)
        </p>
        <p>
            Кнопки "↻" справа от партий и выбора темпа возвращают, соответственно, громкость партии и темп в значения по
            умолчанию.
        </p>
        <p>
            Далее нажимаете кнопку "Генерировать", которая создает в плеере ниже мелодию с выбранными настройками. Если
            вы меняете далее настройки, то необходимо заново нажать кнопку "Генерировать", чтобы создалась мелодия
            с новыми настройками, иначе изменения не применятся.
        </p>
        <p>
            <b>Визуализатор</b> - это экранчик в самом низу страницы, который показывает ноты, если вы выбрали одну партию, и
            структурное изображение партий, если вы выбрали больше одной партии. При включении плеера ноты следуют за музыкой.
        </p>
        <p>
            Все возникшие вопросы вы можете задать лично разработчику по ссылке внизу сайта. А также написать свои
            предложения :)
        </p>
    </div>
<!------------------------------------------------------------------------------------------------------>
    <div id="donutPage" class="second-page notActive">
        <h3>Вы можете поддержать проект</h3>
        <p>
            Так как сайт абсолютно бесплатный, то создатели тратят свое личное время и средства на его пополнение и
            поддержку. Мы будем очень признательны, если вы поддержите наш проект, чтобы мы смогли посвящать ему больше
            времени :)
        </p>
        <p>
            Вы можете поддержать разработчиков, сделав любой перевод по номеру карты: <b>2202 2050 3869 8764</b>,
            перейти по <a href="https://www.tinkoff.ru/cf/1tm5sxgZhd1" target="_blank"><b><i>ссылке</i></b></a>
            или отсканировав qr-код ниже:
        </p>
        <img src="./img/qr-tinkoff.png">
        <p style="text-align: center">
            <b>Благодарим за любую поддержку!</b>
        </p>
    </div>
<!------------------------------------------------------------------------------------------------------>
    <br>
    <div class="footer">
        2022 (c) Тима Забабурин<br>
        Для корректной работы сайта рекомендуется использовать браузер Google Chrome<br>
        P.S. а вообще-то я фотограф &darr;
        <a href="https://timzababurin.ru" target="_blank">timzababurin.ru</a>
    </div>

<!--    <script src="./js/dev.js"></script>-->
    <!--  data  -->
    <script src="./js/data.js"></script>
    <!-- player midi -->
    <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0"></script>
    <!-- midi reader -->
    <script src="https://unpkg.com/@tonejs/midi"></script>
    <script src="./js/jsmidgen.js"></script>
    <script src="./js/script.js"></script>
</body>
</html>